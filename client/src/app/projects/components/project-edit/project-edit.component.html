<section class="form-section">
  <mat-card class="form-card">
    <a mat-raised-button
       (click)="goBack()"
       aria-label="Navigate back"
       color="primary">Go Back</a>
    <mat-card-title>
      <h1>
        <span *ngIf="!editMode">Create a new project</span>
        <span *ngIf="editMode">Edit this project</span>
      </h1>
    </mat-card-title>
    <form [formGroup]="projectForm"
          autocomplete="off"
          novalidate
          (ngSubmit)="onSubmit()"
          class="form">
      <mat-card-content class="form-content">
        <mat-form-field class="form-field">
          <input matInput
                 type="text"
                 placeholder="Project's title"
                 formControlName="title"
                 id="title">
          <mat-hint class="form-hints">Not more then 60 characters long.</mat-hint>
          <mat-error *ngIf="hasError('title', 'required')">Name is required</mat-error>
          <mat-error *ngIf="hasError('title', 'maxlength')">You have more than 60 characters</mat-error>
        </mat-form-field>
        <mat-form-field class="form-field">
          <input matInput
                 type="text"
                 placeholder="Project's description"
                 formControlName="description">
          <mat-hint>Not more then 100 characters long.</mat-hint>
          <mat-error *ngIf="hasError('description', 'required')">Description is required</mat-error>
          <mat-error *ngIf="hasError('description', 'maxlength')">You have more than 100 characters</mat-error>
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <ng-container *ngIf="editMode;else addMode">
          <button mat-raised-button
                  color="accent"
                  type="button"
                  (click)="onEditProject()"
                  class='btn-edit'
                  [disabled]="!projectForm.valid">Update</button>
          <a mat-raised-button
             (click)="onDelete()"
             aria-label="Delete the project"
             color="warn">Delete</a>
        </ng-container>
        <ng-template #addMode>
          <button mat-raised-button
                  color="primary"
                  type="submit"
                  class='btn-submit'
                  [disabled]="!projectForm.valid">Create</button>
        </ng-template>

        <!-- <a mat-raised-button
           color="accent"
           type="button"
           [routerLink]="['/projects']">
          <ng-container *ngIf="success;else onError">
            <span>Return</span>
          </ng-container>
          <ng-template #onError>
            <span>Cancel</span>
          </ng-template>

        </a> -->
      </mat-card-actions>
    </form>
  </mat-card>
</section>
